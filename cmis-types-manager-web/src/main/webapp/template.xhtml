<uib:page xmlns="http://www.w3.org/1999/xhtml"
          xmlns:h="http://java.sun.com/jsf/html"
          xmlns:f="http://java.sun.com/jsf/core"
          xmlns:uib="http://engagepoint.com/uib"
          xmlns:ui="http://java.sun.com/jsf/facelets"
          xmlns:p="http://primefaces.org/ui"
          markupType="html5"
          contentType="text/html"
          showFooter="false"
          pageTitle="UI Bootstrap Demo"
          project="financials">
    <h:outputStylesheet library="css" name="style.css"/>

    <uib:pageLayout componentVersion="1.0.1">

        <uib:pageHeaderFacet hideHelpMenu="true" logo="#{resource['img:logo.png']}" logoAltText="Team B">
            <ui:include src="topmenubar.xhtml"/>
        </uib:pageHeaderFacet>


        <uib:pageHeaderUtilityBarFacet>
            <uib:gridContainer rendered="#{loginBean.loggedIn}">
                <uib:gridRow>
                    <uib:gridColumn column="6">
                        <h:form>
                            <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                                <p:selectOneMenu value="#{repositoryBean.selectedRepoId}">
                                    <f:selectItems value="#{repositoryBean.repositoryList}"/>
                                    <p:ajax event="change" update="-mainContent"
                                            listener="#{repositoryBean.updateMainContent}"/>
                                </p:selectOneMenu>
                            </h:panelGrid>
                        </h:form>
                    </uib:gridColumn>
                    <uib:gridColumn column="6">
                        <h:form styleClass="fl-right" id="logoutForm">
                            <p:messages id="messages"/>
                            <h:outputText value="Welcome #{loginBean.userInfo.username}!" style="font-size: 16px"/>
                            <p:commandButton id="logoutBtn" action="#{loginBean.logout}" styleClass="secondary" value="Log out"
                                    />

                        </h:form>
                    </uib:gridColumn>
                </uib:gridRow>
            </uib:gridContainer>
        </uib:pageHeaderUtilityBarFacet>

        <!-- leftMenu -->
        <uib:pageMenuFacet>
            <ui:include src="leftMenu.xhtml"/>
        </uib:pageMenuFacet>
        <!-- /leftMenu -->
        <!-- mainContent -->
        <uib:pageBodyFacet>
            <p:outputPanel id="mainContent">
                <p:messages id="messages" closable="true"/>
                <ui:insert name="mainContent"/>
            </p:outputPanel>

        </uib:pageBodyFacet>
    </uib:pageLayout>

</uib:page>